Tales CCG SQL Schema



TABLE PlayerList
    ID      primary_key     // Unique player ID
    Username varchar(32)    // Username
    Password varchar(32)    // Password
    Hostmask varchar(64)    // an IRC hostmask to filter by
    Name    varchar(32)     // Player Name
    Desc    varchar(256)    // A player description
    Rank    int             // A ranking numeric for the ladder
    Money   int             // A count of their in-game currency
    
    
TABLE Record
    ID      primary_key     // unique game ID
    POne    foreign_key     // ID of player from PlayerList
    PTwo    foreign_key     // ID of player from PlayerList
    Result  int             // P1 win, P2 win, P1 win by disconnect, P2 win by disconnect, Tie
    Date    int             // Unix time date (or an SQL date field, if your SQL db supports it, and you prefer it


TABLE PlayerDeck
    DeckID  primary_key
    PID     foreign_key     // specifies the ID of the player from PlayerList
    Name    varchar/whatever
    etc


TABLE PlayerDeckMapping
    DeckID  foreign_key     // specifies the ID of the deck from PlayerDeck
    CardID  foreign_key     // specifies the ID of the card from CardList


TABLE PlayerCards
    PID     foreign_key // id from PlayerList
    CardID  foreign_key // id from CardList
    Amount  int         // owned card count    


TABLE CardList
    ID      primary_key     // Unique ID
    Type    int             // Type of Card
    Name    varchar(32)     // Card Name
    Desc    varchar(512)    // Card description

    FieldA  int
    FieldB  int
    FieldC  int
    etc... 12 fields in all so far


Card Types

    0 - Character Type
            Attack      int
            Defense     int
            Magic       int
            CC          int
            SpAbility   int
            Class       int     // Bitfield for equipment/arte usage
            HP          int
            
            Level       int
            HPGrowth    int
            AttGrowth   int
            DefGrowth   int
            MagGrowth   int
            
            
            
    1 - Arte
            CCCost      int
            AttPower    int
            DefPower    int
            MagPower    int
            Class       int     // Bitfield for character mappings
            
            EffectA     int
            EffectAQuan int
            EffectB     int
            EffectBQuan int
                // See effect table

            
    2 - Weapon
            CCIncrease  int
            AttPower    int
            DefPower    int
            MagPower    int
            Class       int     // Bitfield for character mappings
            
            EffectA     int
            EffectAQuan int
            EffectB     int
            EffectBQuan int
                // See effect table

    
    3 - Armor
            CCIncrease  int
            AttPower    int
            DefPower    int
            MagPower    int
            Class       int     // Bitfield for character mappings
            
            EffectA     int
            EffectAQuan int
            EffectB     int
            EffectBQuan int
                // See effect table
    
    
    4 - Accessory
            CCIncrease  int
            AttPower    int
            DefPower    int
            MagPower    int
            Class       int     // Bitfield for character mappings
            
            EffectA     int
            EffectAQuan int
            EffectB     int
            EffectBQuan int
                // See effect table


    5 - Item
            CCCost      int

            EffectA     int
            EffectAQuan int
            EffectB     int
            EffectBQuan int
                // See effect table
